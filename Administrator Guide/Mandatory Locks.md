强制锁
===============
支持内部的 GlusterFS 强制性锁不收敛都自行到什么 Linux 内核提供了对用户空间的文件系统。在这里我们执行核心强制性锁语义与无文件模式位的帮助。请阅读通过 [设计规范] (https://github.com/gluster/glusterfs-specs/blob/master/done/GlusterFS%203.8/Mandatory%20Locks.md) 这就解释了为 GlusterFS 做强制锁执行背后的整个概念。


# # 含义和用法
默认情况下，强制锁定将禁用卷和卷设置的选项是可用来配置卷操作下 3 种不同强制锁定模式。

# # 卷选项

* * * * gluster 音量设置 &lt; VOLNAME > locks.mandatory 锁定 &lt; 关机 / 文件 / 强迫 / 最优 > * * *

* * 关闭 * *-禁用强制锁定为指定卷。

* * 文件 * *-使 Linux 内核风格强制锁定语义模式位 （不是很好的测试） 的帮助

* * 强迫 * *-修改操作在一个卷中的每个数据字节范围锁冲突检查

* * 最佳 * *-在哪里 POSIX 客户可以住在一起他们咨询锁语义这仍会履行其他像 SMB 客户获取的强制性锁的组合模式。

注:-对这些关键值的详细信息，请参阅设计文档。

# # # 必须记住的要点
* 有效键值与强制锁定卷 set 选项可用是卷随后开始/重新启动后才生效。
将一项一些悬而未决的问题，它被建议关闭性能译者要强制锁的完整功能，当在任一上述描述强制锁定模式配置卷。请参阅下面有关更多详细信息的已知问题部分。


# # # 已知问题
* 由于强制性锁的整个逻辑在内锁翻译加载在服务器端实现的早期成功回到 fops 像打开，读取，写入到上部/应用程序层由演出翻译驻留在客户端会影响预期的相关的强制性锁。其中一个问题是被跟踪以下 bugzilla 报告中︰


< > https://bugzilla.redhat.com/show_bug.cgi?id=1194546

* 还有可能竞赛窗口发现强制锁和正在进行读/写操作。有关更多详细信息，请参阅下面给出的 bug 报告︰


< > https://bugzilla.redhat.com/show_bug.cgi?id=1287099
