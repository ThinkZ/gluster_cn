# # # 粘接的最佳做法

保税的网络接口纳入一个单一的逻辑保税界面，单一的 IP 地址的多个物理接口。N-路粘结界面可以生存的 N-1 物理接口，损失和在某些情况下可以提高性能。


# # # 时，债券

-需要高可用性的网络链接
-工作量︰ 顺序访问大文件 （大多数时间读/写）
-客户端/服务器的网络吞吐量限制 \ < \ < 存储吞吐量限制
-1 GbE （几乎总是）
-10 Gbps 链接或更快 — — 用于写入复制双打上网络的负载和副本通常是不同的客户端可以在并行传输的同行。
限制︰ 如果网络同行不在同一 VLAN，键合模式 6 不提高吞吐量。

# # # 如何配置

-[粘接 howto] (http://www.linuxquestions.org/linux/answers/Networking/Linux_bonding_howto_0)
-最佳粘接模式 Gluster 客户端为模式 6 (平衡 alb)，这允许客户端传输并行写入单独的 Nic 上太多的时间。高峰吞吐量是 750 MB/s 从单个客户端写入观察键合模式 6 2 10 GbE Nic 与巨型帧上。这是 1.5 GB/s 的网络通信。

-另一种方法平衡两者的传输和接收交通粘结方式 4 (802.3 a d)，但这需要交换机配置 （中继命令）
-还是另一种方式，负载平衡键合模式 2 (平衡 xor) 选项与"xmit\_hash\_policy = layer3 + 4"。成键方式 6 和 2 不会改善单连接的吞吐量，但提高聚合吞吐量跨所有连接。


# # # 巨型帧

巨型帧是以太网 （或无限带宽） 的帧大小大于默认值为 1500 字节 （无限带宽默认为大约 2000 字节）。帧大小的增加减少了操作系统和硬件，必须处理中断和每个框架协议消息的负载。


# # # 时配置

-任何网络比 1 GbE 快
-工作量是顺序大文件的读取/写入
-限制︰ 要求所有网络交换机在 VLAN 必须配置为处理巨型帧，否则不配置。

# # # 如何配置

-编辑 /etc/sysconfig/network-scripts/ifcfg-your-interface 在网络接口文件
以太网 （ixgbe 驱动程序）︰ 添加"MTU = 9000"（MTU 手段"最大传输单位"） 记录到网络接口文件
-（在 mlx4 驱动程序） 的无限带宽︰ 添加"CONNECTED\_MODE = yes"和"MTU = 65520" 到网络接口文件记录
-ifdown 您的接口;ifup 你-接口

-测试与坪-s 16384 其他主机上 VLAN
-开关由于协议标头，通常 9216 字节需要大于 MTU 的最大帧大小

# # # 配置存储后端网络

此方法允许您通过隔离网络流量不同的协议，在不同的网络接口上添加多协议网站的网络容量。此方法可以较低的延迟和提高吞吐量。例如，此方法可以保留自我修复和重新平衡交通从竞争与非 Gluster 客户端通信的网络接口，并更好地支持多流 I/O。


# # # 时配置

-非 Gluster 等 NFS，斯威夫特 (REST)，CIFS Gluster 服务器上正提供的服务。它不会帮助 Gluster 客户 （Gluster 挂载点上他们与外部节点）。

-网络端口是过度利用。

# # # 如何配置

-大多数网卡有多个端口上他们 — — 让非 Gluster 端口的端口 1 和端口 2 Gluster 端口。
-不同的 Gluster 端口上非 Gluster 端口要简化配置，位于不同的 VLAN。
